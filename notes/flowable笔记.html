<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>flowable笔记 | BaoStudy</title>
    <meta name="generator" content="VuePress 1.9.7">
    <script src="/js/bodyclick.js"></script>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/assets/css/0.styles.b59dc0e6.css" as="style"><link rel="preload" href="/assets/js/app.3d5eaae9.js" as="script"><link rel="preload" href="/assets/js/3.72222d6a.js" as="script"><link rel="preload" href="/assets/js/1.66c47487.js" as="script"><link rel="preload" href="/assets/js/57.717b8805.js" as="script"><link rel="prefetch" href="/assets/js/10.27400579.js"><link rel="prefetch" href="/assets/js/11.1869769a.js"><link rel="prefetch" href="/assets/js/12.6b5d1bb6.js"><link rel="prefetch" href="/assets/js/13.fdeab5ec.js"><link rel="prefetch" href="/assets/js/14.d0a3fbad.js"><link rel="prefetch" href="/assets/js/15.a44750cd.js"><link rel="prefetch" href="/assets/js/16.60cf9ef2.js"><link rel="prefetch" href="/assets/js/17.81e5f30c.js"><link rel="prefetch" href="/assets/js/18.81a4781d.js"><link rel="prefetch" href="/assets/js/19.d6f86254.js"><link rel="prefetch" href="/assets/js/20.0be1e26d.js"><link rel="prefetch" href="/assets/js/21.7c6d03a6.js"><link rel="prefetch" href="/assets/js/22.3be4bd3d.js"><link rel="prefetch" href="/assets/js/23.d01ed13b.js"><link rel="prefetch" href="/assets/js/24.143e7355.js"><link rel="prefetch" href="/assets/js/25.7e220937.js"><link rel="prefetch" href="/assets/js/26.1d836bf4.js"><link rel="prefetch" href="/assets/js/27.6e39e415.js"><link rel="prefetch" href="/assets/js/28.5838499f.js"><link rel="prefetch" href="/assets/js/29.7de29e81.js"><link rel="prefetch" href="/assets/js/30.94afcbff.js"><link rel="prefetch" href="/assets/js/31.3bcd6591.js"><link rel="prefetch" href="/assets/js/32.e1ad6fd4.js"><link rel="prefetch" href="/assets/js/33.d6354d48.js"><link rel="prefetch" href="/assets/js/34.3aa7cafa.js"><link rel="prefetch" href="/assets/js/35.6581d39d.js"><link rel="prefetch" href="/assets/js/36.3ceb42ef.js"><link rel="prefetch" href="/assets/js/37.5703ee17.js"><link rel="prefetch" href="/assets/js/38.49032b77.js"><link rel="prefetch" href="/assets/js/39.92fcee92.js"><link rel="prefetch" href="/assets/js/4.82fda0e2.js"><link rel="prefetch" href="/assets/js/40.2a86889d.js"><link rel="prefetch" href="/assets/js/41.1eed49b0.js"><link rel="prefetch" href="/assets/js/42.a1144f04.js"><link rel="prefetch" href="/assets/js/43.5cbb95ef.js"><link rel="prefetch" href="/assets/js/44.59ddb064.js"><link rel="prefetch" href="/assets/js/45.290e4522.js"><link rel="prefetch" href="/assets/js/46.1540d04d.js"><link rel="prefetch" href="/assets/js/47.8025f9c6.js"><link rel="prefetch" href="/assets/js/48.dcac2573.js"><link rel="prefetch" href="/assets/js/49.2ea2ee7c.js"><link rel="prefetch" href="/assets/js/5.b6c965e6.js"><link rel="prefetch" href="/assets/js/50.eb14a8fc.js"><link rel="prefetch" href="/assets/js/51.3973908c.js"><link rel="prefetch" href="/assets/js/52.5d04867c.js"><link rel="prefetch" href="/assets/js/53.7b1a003c.js"><link rel="prefetch" href="/assets/js/54.f0452fb4.js"><link rel="prefetch" href="/assets/js/55.ee08ebbf.js"><link rel="prefetch" href="/assets/js/56.22cf9294.js"><link rel="prefetch" href="/assets/js/58.ca99fb86.js"><link rel="prefetch" href="/assets/js/6.b436256a.js"><link rel="prefetch" href="/assets/js/7.fc4f81e9.js"><link rel="prefetch" href="/assets/js/8.0f6f67bc.js"><link rel="prefetch" href="/assets/js/9.eb9cc9cb.js">
    <link rel="stylesheet" href="/assets/css/0.styles.b59dc0e6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-130b300a><div data-v-130b300a><div class="password-shadow password-wrapper-out" style="display:none;" data-v-25ba6db2 data-v-130b300a data-v-130b300a><h3 class="title" data-v-25ba6db2 data-v-25ba6db2>BaoStudy</h3> <p class="description" data-v-25ba6db2 data-v-25ba6db2></p> <label id="box" class="inputBox" data-v-25ba6db2 data-v-25ba6db2><input type="password" value="" data-v-25ba6db2> <span data-v-25ba6db2>Konck! Knock!</span> <button data-v-25ba6db2>OK</button></label> <div class="footer" data-v-25ba6db2 data-v-25ba6db2><span data-v-25ba6db2><i class="iconfont reco-theme" data-v-25ba6db2></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-25ba6db2>vuePress-theme-reco</a></span> <span data-v-25ba6db2><i class="iconfont reco-copyright" data-v-25ba6db2></i> <a data-v-25ba6db2><span data-v-25ba6db2>阿元搞全栈</span>
            
          <span data-v-25ba6db2>2021 - </span>
          2022
        </a></span></div></div> <div class="hide" data-v-130b300a><header class="navbar" data-v-130b300a><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">BaoStudy</span></a> <div class="links"><!----> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  首页
</a></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="/notes/笔记前言.html" class="nav-link"><i class="iconfont reco-home"></i>
  笔记
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      教程
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/courses/Java/Java简介.html" class="nav-link"><i class="undefined"></i>
  Java
</a></li><li class="dropdown-item"><!----> <a href="/courses/前端/前端简介.html" class="nav-link"><i class="undefined"></i>
  前端
</a></li><li class="dropdown-item"><!----> <a href="/courses/Maven/Maven简介.html" class="nav-link"><i class="undefined"></i>
  Maven
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-130b300a></div> <aside class="sidebar" data-v-130b300a><div class="personal-info-wrapper" data-v-39576ba9 data-v-130b300a><img src="/img/avatar.png" alt="author-avatar" class="personal-img" data-v-39576ba9> <h3 class="name" data-v-39576ba9>
    阿元搞全栈
  </h3> <div class="num" data-v-39576ba9><div data-v-39576ba9><h3 data-v-39576ba9>47</h3> <h6 data-v-39576ba9>Articles</h6></div> <div data-v-39576ba9><h3 data-v-39576ba9>9</h3> <h6 data-v-39576ba9>Tags</h6></div></div> <ul class="social-links" data-v-39576ba9></ul> <hr data-v-39576ba9></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  首页
</a></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="/notes/笔记前言.html" class="nav-link"><i class="iconfont reco-home"></i>
  笔记
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      教程
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/courses/Java/Java简介.html" class="nav-link"><i class="undefined"></i>
  Java
</a></li><li class="dropdown-item"><!----> <a href="/courses/前端/前端简介.html" class="nav-link"><i class="undefined"></i>
  前端
</a></li><li class="dropdown-item"><!----> <a href="/courses/Maven/Maven简介.html" class="nav-link"><i class="undefined"></i>
  Maven
</a></li></ul></div></div> <!----></nav> <ul class="sidebar-links"><li><a href="/notes/笔记前言.html" class="sidebar-link">笔记前言</a></li><li><a href="/notes/flowable笔记.html" class="active sidebar-link">flowable笔记</a></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-25ba6db2 data-v-130b300a><h3 class="title" data-v-25ba6db2 data-v-25ba6db2>flowable笔记</h3> <!----> <label id="box" class="inputBox" data-v-25ba6db2 data-v-25ba6db2><input type="password" value="" data-v-25ba6db2> <span data-v-25ba6db2>Konck! Knock!</span> <button data-v-25ba6db2>OK</button></label> <div class="footer" data-v-25ba6db2 data-v-25ba6db2><span data-v-25ba6db2><i class="iconfont reco-theme" data-v-25ba6db2></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-25ba6db2>vuePress-theme-reco</a></span> <span data-v-25ba6db2><i class="iconfont reco-copyright" data-v-25ba6db2></i> <a data-v-25ba6db2><span data-v-25ba6db2>阿元搞全栈</span>
            
          <span data-v-25ba6db2>2021 - </span>
          2022
        </a></span></div></div> <div data-v-130b300a><main class="page"><section><div class="page-title"><h1 class="title">flowable笔记</h1> <div data-v-f875f3fc><i class="iconfont reco-account" data-v-f875f3fc><span data-v-f875f3fc>阿元搞全栈</span></i> <i class="iconfont reco-date" data-v-f875f3fc><span data-v-f875f3fc>3/29/2022</span></i> <!----> <i class="tags iconfont reco-tag" data-v-f875f3fc><span class="tag-item" data-v-f875f3fc>flowable</span><span class="tag-item" data-v-f875f3fc>Bpmn2.0</span></i></div></div> <div class="theme-reco-content content__default"><div class="custom-block tip"><p class="title"></p><p><a href="https://tkjohn.github.io/flowable-userguide" target="_blank" rel="noopener noreferrer">基于该文档进行研究学习<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div><h2 id="bpmn2-0结构"><a href="#bpmn2-0结构" class="header-anchor">#</a> Bpmn2.0结构</h2> <ul><li><p><code>process</code>：一个流程的具体内容在标签内进行定义</p></li> <li><p><code>Event</code>：事件，事件的分类有很多，可以归类为启动事件、结束事件、边界事件、捕获中间事件</p> <ul><li><p>启动事件：</p> <ul><li><p>空启动事件：起始点毫无作用的一个节点</p></li> <li><p>定时器启动事件：定时启动流程，<strong>不需要调用API</strong>，在部署的时候就开始计时<img src="https://workdomain.cloud/picgo/image-20220325182335454.png" alt="image-20220325182335454" style="zoom:50%;"></p></li> <li><p>消息启动事件：使用具名消息启动流程实例，消息名用于选择<strong>正确</strong>的启动事件。</p> <p>使用<code>startProcessInstanceByMessage(String messageName);</code>启动流程实例</p> <img src="https://workdomain.cloud/picgo/image-20220325183919520.png" alt="image-20220325183919520" style="zoom:50%;"> <div class="language-xml extra-class"><pre class="language-xml"><code>//普通启动事件声明加上messageEventDefinition子元素,并指定哪个消息名
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>definitions</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>definitions<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.omg.org/spec/BPMN/20100524/MODEL<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name"><span class="token namespace">xmlns:</span>flowable</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://flowable.org/bpmn<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">targetNamespace</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Examples<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name"><span class="token namespace">xmlns:</span>tns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Examples<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>message</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>newInvoice<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>newInvoiceMessage<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>process</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>invoiceProcess<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>startEvent</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>messageStart<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
    	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>messageEventDefinition</span> <span class="token attr-name">messageRef</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tns:newInvoice<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>startEvent</span><span class="token punctuation">&gt;</span></span>
    ...
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>process</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>definitions</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li> <li><p>信号启动事件：接收到某一信号时启动事件，这个信号可以是流程实例中抛出的中间事件、也可以是调用API<code>runtimeService.signalEventReceivedXXX方法</code>触发</p> <img src="https://workdomain.cloud/picgo/image-20220325183857687.png" alt="image-20220325183857687" style="zoom:50%;"> <div class="language-xml extra-class"><pre class="language-xml"><code>//在启动事件上声明加上signalEventDefinition子元素并且指定信号名
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>signal</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>theSignal<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>The Signal<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>process</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>processWithSignalStart1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>startEvent</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>theStart<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>signalEventDefinition</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>theSignalEventDefinition<span class="token punctuation">&quot;</span></span> <span class="token attr-name">signalRef</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>theSignal<span class="token punctuation">&quot;</span></span>  <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>startEvent</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>sequenceFlow</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>flow1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">sourceRef</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>theStart<span class="token punctuation">&quot;</span></span> <span class="token attr-name">targetRef</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>theTask<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>userTask</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>theTask<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Task in process A<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>sequenceFlow</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>flow2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">sourceRef</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>theTask<span class="token punctuation">&quot;</span></span> <span class="token attr-name">targetRef</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>theEnd<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>endEvent</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>theEnd<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>process</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li> <li><p>错误启动事件：可用在子流程中，该子流程是由错误事件所触发的子流程，<strong>不可用来启动流程实例</strong></p> <img src="https://workdomain.cloud/picgo/image-20220326142254153.png" alt="image-20220326142254153" style="zoom:50%;"></li></ul></li> <li><p>结束事件：标记流程或者子流程中一个分支的结束，会抛出一个结果，结果类型有子元素所决定</p> <ul><li><p>空结束事件：无结果的结束</p> <img src="https://workdomain.cloud/picgo/image-20220326141611772.png" alt="image-20220326141611772" style="zoom:50%;"></li> <li><p>错误结束事件：结束当前流程，并抛出一个错误</p> <img src="https://workdomain.cloud/picgo/image-20220326141557194.png" alt="image-20220326141557194" style="zoom:50%;"></li> <li><p>终止结束事件：当执行到终止结束事件时，无论该终止结束事件在流程、子流程或者嵌套子流程中，都会结束整个流程</p> <img src="https://workdomain.cloud/picgo/image-20220326141544001.png" alt="image-20220326141544001" style="zoom:50%;"></li> <li><p>取消结束事件：当到达取消结束事件时，会抛出取消事件，且必须由<strong>取消边界事件</strong>捕获。取消边界事件将取消事务，并触发<strong>补偿边界事件</strong>中所指定的补偿处理器。</p></li></ul></li> <li><p>边界事件：当捕获到边界事件，<strong>会停止当前活动</strong>，并沿着边界事件的顺序流继续执行</p> <p>边界事件的分类有：</p> <ul><li><p>定时器边界事件：定时中断当前任务，走边界事件的顺序流</p> <img src="https://workdomain.cloud/picgo/image-20220326114813249.png" alt="image-20220326114813249" style="zoom:50%;"> <p>定时事件又分为中断与非中断事件，即走边界事件顺序流的时候，<strong>不终止原本的活动</strong>，一个典型使用场景，是在一段时间之后发送提醒邮件，但不影响正常的流程流向</p></li> <li><p>错误边界事件：与错误结束事件一起使用，当捕获到到错误结束事件就会走错误边界事件</p> <img src="https://workdomain.cloud/picgo/image-20220326122001798.png" alt="image-20220326122001798" style="zoom:50%;"></li> <li><p>消息边界事件：当前活动捕获到与所定义的消息具有相同名称的消息时，会触发消息边界事件</p> <p>消息边界事件既可以是<strong>中断</strong>当前活动也可以是<strong>不中断</strong>当前活动的</p></li> <li><p>信号边界事件：当前活动捕获到与所定义的信号具有相同名称的信号时，会触发信号边界事件，与消息不一样的是，<strong>信号是全局的</strong>，所有活动都能接受其信号</p></li> <li><p>补偿边界事件：与<strong>取消边界事件</strong>一起使用，当活动被取消时，会进入补偿边界事件所指定的补偿处理器中</p> <img src="https://workdomain.cloud/picgo/image-20220326124519947.png" alt="image-20220326124519947" style="zoom:50%;"></li></ul></li> <li><p>捕获中间事件：捕获事件后自动沿着出口顺序流继续执行的事件</p> <ul><li><p>定时器捕获中间事件：即指定时间后继续执行后续的活动</p> <img src="https://workdomain.cloud/picgo/image-20220326130728061.png" alt="image-20220326130728061" style="zoom:50%;"></li> <li><p>信号捕获中间事件：接收到与其定义信号相同名的信号时，自动执行后续活动</p> <img src="https://workdomain.cloud/picgo/image-20220326130839637.png" alt="image-20220326130839637" style="zoom:50%;"></li> <li><p>消息捕获中间事件：接收到与其定义消息相同名的消息时，自动执行后续活动</p> <img src="https://workdomain.cloud/picgo/image-20220326131023578.png" alt="image-20220326131023578" style="zoom:50%;"></li></ul></li></ul></li> <li><p><code>sequenceFlow</code>：顺序流，用于节点之间的相连，其中属性sourceRef为连接的始节点，targetRef为连接的终节点，这两个属性不可缺少，有两种顺序流：条件顺序流、默认顺序流</p> <ul><li><p>条件顺序流：条件顺序流中的表达式要能解析出boolean值，否则会抛出异常</p> <img src="https://workdomain.cloud/picgo/image-20220325175018409.png" alt="image-20220325175018409" style="zoom:50%;"> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>sequenceFlow</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>flow<span class="token punctuation">&quot;</span></span> <span class="token attr-name">sourceRef</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>theStart<span class="token punctuation">&quot;</span></span> <span class="token attr-name">targetRef</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>theTask<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>conditionExpression</span> <span class="token attr-name"><span class="token namespace">xsi:</span>type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tFormalExpression<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token cdata">&lt;![CDATA[${order.price &gt; 100 &amp;&amp; order.price &lt; 250}]]&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>conditionExpression</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>sequenceFlow</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li> <li><p>默认顺序流：只有当没有顺序流可以选择时，才会选择默认顺序流作为出口</p> <img src="https://workdomain.cloud/picgo/image-20220325175237017.png" alt="image-20220325175237017" style="zoom:50%;"> <img src="https://workdomain.cloud/picgo/image-20220325175317075.png" alt="image-20220325175317075" style="zoom:50%;"> <p>比如上图：当条件A、B都为fasle，即可选择中间的默认顺序流作为出口</p></li></ul></li> <li><p><code>endEvent</code>：流程结束节点</p></li> <li><p>网关：</p> <ul><li><p>排他网关：选择根据各个路径的约束计算出来的第一个为true的路径</p> <p>选择根据各个路径的约束计算出来的第一个为true的路径</p> <div class="language-xml extra-class"><pre class="language-xml"><code>//添加在sequenceFlow标签中
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>sequenceFlow</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>flow3<span class="token punctuation">&quot;</span></span> <span class="token attr-name">sourceRef</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bossApprove<span class="token punctuation">&quot;</span></span> <span class="token attr-name">targetRef</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>end<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>conditionExpression</span> <span class="token attr-name"><span class="token namespace">xsi:</span>type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tFormalExpression<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token cdata">&lt;![CDATA[${input=='通过'}]]&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>conditionExpression</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>sequenceFlow</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><img src="https://workdomain.cloud/picgo/image-20220325111844430.png" alt="image-20220325111844430" style="zoom:50%;"></li> <li><p>并行网关：具有分支和汇聚的作用，可以让多条线路同时执行，但是在汇聚网关的时候，要等待连接汇聚并行网关的所有路线到达此网关才会通行</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parallelGateway</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>myParallelGateway<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre></div><img src="https://workdomain.cloud/picgo/image-20220325111918038.png" alt="image-20220325111918038" style="zoom:50%;"></li> <li><p>包容网关：就是排他网关和并行网关合并在一起，他会为每条计算为true的路径开辟并行执行的路径，同样具有分支和汇聚的作用</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>inclusiveGateway</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>myInclusiveGateway<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre></div><img src="https://workdomain.cloud/picgo/image-20220325111943884.png" alt="image-20220325111943884" style="zoom:50%;"></li></ul></li> <li><p><code>userTask</code>：任务节点,最常用的就是用户任务</p> <ul><li><p>可以指定任务的到期时间</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>userTask</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>theTask<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Important task<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">flowable:</span>dueDate</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${dateVariable}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div></li> <li><p>可以指定任务的<strong>执行人</strong>、<strong>候选人</strong>、<strong>候选组</strong></p> <div class="language-xml extra-class"><pre class="language-xml"><code>//指定执行人为lby
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>userTask</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>theTask<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>my task<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">flowable:</span>assignee</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>lby<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

//指定候选人为lby、hhh
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>userTask</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>theTask<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>my task<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">flowable:</span>candidateUsers</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>lby,hhh<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

//指定候选组为development(研发部)、product(产品部)
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>userTask</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>theTask<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>my task<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">flowable:</span>candidateGroups</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>development,product<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

</code></pre></div></li> <li><p>可以通过任务监听器<strong>查询数据库</strong>指定任务执行的<strong>执行人</strong>、<strong>候选人</strong>、<strong>候选组</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyAssignmentHandler</span> <span class="token keyword">implements</span> <span class="token class-name">TaskListener</span> <span class="token punctuation">{</span>

  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">notify</span><span class="token punctuation">(</span><span class="token class-name">DelegateTask</span> delegateTask<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 在这里调用service层查询身份信息</span>

    <span class="token comment">// 然后调用如下命令：</span>
    delegateTask<span class="token punctuation">.</span><span class="token function">setAssignee</span><span class="token punctuation">(</span><span class="token string">&quot;human&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//设置办理人</span>
    delegateTask<span class="token punctuation">.</span><span class="token function">addCandidateUser</span><span class="token punctuation">(</span><span class="token string">&quot;humans&quot;</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//设置办理候选人</span>
    delegateTask<span class="token punctuation">.</span><span class="token function">addCandidateGroup</span><span class="token punctuation">(</span><span class="token string">&quot;group&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//设置办理候选组</span>
  <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>其余任务还有如下：</p> <ul><li><p>脚本任务：运行一段js脚本的任务</p></li> <li><p>java服务任务：改任务主要就是调用java类的、service层等等</p></li> <li><p>http任务：该任务主要是发送http请求</p></li> <li><p>shell任务：该任务主要是运行shell脚本</p></li> <li><p>任务监听器：只用定义在<strong>用户任务</strong>中使用，用于执行<strong>自定义的Java逻辑或表达式</strong></p> <div class="language-xml extra-class"><pre class="language-xml"><code>//创建一个TaskListener接口的实现类MyTaskCreateListener
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>userTask</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>myTask<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>My Task<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>extensionElements</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">flowable:</span>taskListener</span> <span class="token attr-name">event</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>create<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.flowable.MyTaskCreateListener<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>extensionElements</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>userTask</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyTaskCreateListener</span> <span class="token keyword">implements</span> <span class="token class-name">TaskListener</span> <span class="token punctuation">{</span>

  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">notify</span><span class="token punctuation">(</span><span class="token class-name">DelegateTask</span> delegateTask<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 这里是要实现的业务逻辑</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>执行监听器：用于监听流程执行到某一处地方执行<strong>外部Java代码或计算表达式</strong>。</p> <div class="language-xml extra-class"><pre class="language-xml"><code>//在想监听的节点标签内加上该标签
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>extensionElements</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">flowable:</span>executionListener</span>
      <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.flowable.examples.bpmn.executionlistener.ExampleExecutionListenerOne<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">event</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>start<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>extensionElements</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//实现ExecutionListener接口</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ExampleExecutionListenerOne</span> <span class="token keyword">implements</span> <span class="token class-name">ExecutionListener</span> <span class="token punctuation">{</span>

  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">notify</span><span class="token punctuation">(</span><span class="token class-name">ExecutionListenerExecution</span> execution<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
   	
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul></li></ul></li> <li><p>流程启动认证</p> <p>默认情况下，任何人都可以启动已部署流程定义的新流程实例，但可以使用启动认证限制某些流程定义只有<strong>部分用户</strong>或者组可以启动</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>process</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>myProcess<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">flowable:</span>candidateStarterUsers</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user1, user2<span class="token punctuation">&quot;</span></span>
     <span class="token attr-name"><span class="token namespace">flowable:</span>candidateStarterGroups</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>group1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    ...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>process</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li></ul> <h2 id="导入依赖"><a href="#导入依赖" class="header-anchor">#</a> 导入依赖</h2> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- 官方依赖 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.flowable<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>flowable-engine<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>6.3.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
  
  <span class="token comment">&lt;!-- 集成spring，对于spring容器很友好，与上面的依赖二选一
	这个依赖已经自动装配各个service的bean，例如repositoryService、taskService等等 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.flowable<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>flowable-spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>6.6.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
 
  <span class="token comment">&lt;!-- mysql依赖 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>mysql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mysql-connector-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
  
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="创建流程引擎"><a href="#创建流程引擎" class="header-anchor">#</a> 创建流程引擎</h2> <p>有两种方式创建</p> <ul><li><p>通过spring容器创建ProcessEngine实例</p> <p><strong>默认会读取application.yml中的数据库配置来进行初始化</strong>，如果要自定义流程引擎，则要实现<code>EngineConfigurationConfigurer</code>接口，重写configure方法，通过链式编程的方式进行自定义配置</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FlowAbleConfig</span> <span class="token keyword">implements</span> <span class="token class-name">EngineConfigurationConfigurer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SpringProcessEngineConfiguration</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">configure</span><span class="token punctuation">(</span><span class="token class-name">SpringProcessEngineConfiguration</span> springProcessEngineConfiguration<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        springProcessEngineConfiguration
                <span class="token punctuation">.</span><span class="token function">setJdbcDriver</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">setJdbcUsername</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">setJdbcPassword</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">setJdbcUrl</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>通过启动时读取xml文件进行实例化</p> <p>在resources目录下创建flowable.cfg.xml文件</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>processEngineConfiguration<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.flowable.engine.impl.cfg.StandaloneProcessEngineConfiguration<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>jdbcUrl<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>jdbc:mysql://localhost:3306/flowable<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>jdbcDriver<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.mysql.cj.jdbc.Driver<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>jdbcUsername<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>root<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>jdbcPassword<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>lby20010429<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>databaseSchemaUpdate<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>获取流程引擎</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">ProcessEngine</span> processEngine <span class="token operator">=</span> <span class="token class-name">ProcessEngines</span><span class="token punctuation">.</span><span class="token function">getDefaultProcessEngine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>我推荐使用第一种方案获取流程引擎</p></li></ul> <h2 id="数据库的创建"><a href="#数据库的创建" class="header-anchor">#</a> 数据库的创建</h2> <p>应用启动会自动检测数据库中表的完整性，如有不完整会自动创建缺少的表，一共是79张表</p> <img src="https://workdomain.cloud/picgo/image-20220325112124912.png" alt="image-20220325112124912" style="zoom:50%;"> <p>重点关注以下开头的表</p> <ul><li><code>act_re_*</code>：re代表repository，这类表一般存放静态资源，如流程的定义以及流程图片的存储</li> <li><code>act_ru_*</code>：ru代表runtime，这类表一般存储流程实例、任务、变量等，一旦流程结束会清空记录</li> <li><code>act_hi_*</code>：hi代表history，这类表储存已完成流程实例的数据，也就是上面删除的数据</li></ul> <h2 id="流程定义"><a href="#流程定义" class="header-anchor">#</a> 流程定义</h2> <ol><li><p>流程定义的文件一般都是以****.bpmn20.xml**、<strong>**.bpmn</strong>结尾</p></li> <li><p>流程定义的文件要放在resources目录下的processes文件夹中，应用启动时会自动部署该文件夹下的流程</p></li> <li><p>一个流程定义文件可以定义多个流程，也可以定义一个流程(<strong>推荐一个文件定义一个流程定义</strong>)，以<code>&lt;process&gt;&lt;/process&gt;</code>标签中的id区分一个文件不同流程</p></li></ol> <p>以下为一个<strong>简单</strong>的假期流程定义文件</p> <img src="https://workdomain.cloud/picgo/image-20220325135504215.png" alt="image-20220325135504215" style="zoom:50%;"> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>definitions</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>definitions<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">targetNamespace</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://flowable.org/bpmn20<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name"><span class="token namespace">xmlns:</span>flowable</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://flowable.org/bpmn<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.omg.org/spec/BPMN/20100524/MODEL<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>process</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>myProcess<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>申请假期流程<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
			
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>startEvent</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>start<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>sequenceFlow</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>flow1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">sourceRef</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>start<span class="token punctuation">&quot;</span></span> <span class="token attr-name">targetRef</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userApply<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>userTask</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userApply<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>用户申请<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">flowable:</span>assignee</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${taskUser}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>userTask</span><span class="token punctuation">&gt;</span></span>

      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>sequenceFlow</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>flow2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">sourceRef</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userApply<span class="token punctuation">&quot;</span></span> <span class="token attr-name">targetRef</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bossApprove<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>userTask</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bossApprove<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>老板审批<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>userTask</span><span class="token punctuation">&gt;</span></span>

      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>sequenceFlow</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>flow3<span class="token punctuation">&quot;</span></span> <span class="token attr-name">sourceRef</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bossApprove<span class="token punctuation">&quot;</span></span> <span class="token attr-name">targetRef</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>end<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>conditionExpression</span> <span class="token attr-name"><span class="token namespace">xsi:</span>type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tFormalExpression<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token cdata">&lt;![CDATA[${input=='通过'}]]&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>conditionExpression</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>sequenceFlow</span><span class="token punctuation">&gt;</span></span>
      
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>endEvent</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>end<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>process</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>definitions</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="流程部署"><a href="#流程部署" class="header-anchor">#</a> 流程部署</h2> <p>流程部署将使用<code>repositoryService</code>进行部署</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//手动启动指定bpmn文件的流程</span>
<span class="token class-name">Deployment</span> deployment <span class="token operator">=</span> repositoryService<span class="token punctuation">.</span><span class="token function">createDeployment</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addClasspathResource</span><span class="token punctuation">(</span><span class="token string">&quot;applyHoliday.bpmn20.xml&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">deploy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//自动启动流程的话，则要吧bpmn文件放在resources目录下的processes文件夹下，应用启动时自动部署最新版本的流程文件</span>
</code></pre></div><h2 id="启动流程实例"><a href="#启动流程实例" class="header-anchor">#</a> 启动流程实例</h2> <p>启动流程将使用<code>runtimeService</code>进行启动</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/apply/{username}&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">ResponseEntity</span> <span class="token function">applyProcess</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span> <span class="token class-name">String</span> username<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token class-name">Map</span> params <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  params<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">,</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token class-name">ProcessInstance</span> myProcess <span class="token operator">=</span> runtimeService<span class="token punctuation">.</span><span class="token function">startProcessInstanceByKey</span><span class="token punctuation">(</span><span class="token string">&quot;myProcess&quot;</span><span class="token punctuation">,</span>params<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token class-name">ResponseEntity</span><span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span><span class="token string">&quot;流程启动成功,流程实例Id为&quot;</span><span class="token operator">+</span>myProcess<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><img src="https://workdomain.cloud/picgo/image-20220325124125811.png" alt="image-20220325124125811" style="zoom:50%;"> <h2 id="查看用户任务"><a href="#查看用户任务" class="header-anchor">#</a> 查看用户任务</h2> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/queryTask/{username}&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">ResponseEntity</span> <span class="token function">queryTask</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span> <span class="token class-name">String</span> username<span class="token punctuation">)</span><span class="token punctuation">{</span>
<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Task</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> taskService<span class="token punctuation">.</span><span class="token function">createTaskQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">taskAssignee</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">orderByTaskCreateTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">desc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token class-name">ResponseEntity</span><span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><img src="https://workdomain.cloud/picgo/image-20220325124324215.png" alt="image-20220325124324215" style="zoom:50%;"> <h2 id="审核任务"><a href="#审核任务" class="header-anchor">#</a> 审核任务</h2> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/verifyApply/{taskId}/{selected}&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">ResponseEntity</span> <span class="token function">verifyApply</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span> <span class="token class-name">String</span> taskId<span class="token punctuation">,</span><span class="token annotation punctuation">@PathVariable</span> <span class="token class-name">Boolean</span> selected<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token class-name">Map</span> params <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  params<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;input&quot;</span><span class="token punctuation">,</span>selected<span class="token operator">?</span><span class="token string">&quot;通过&quot;</span><span class="token operator">:</span><span class="token string">&quot;不通过&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  taskService<span class="token punctuation">.</span><span class="token function">complete</span><span class="token punctuation">(</span>taskId<span class="token punctuation">,</span>params<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token class-name">ResponseEntity</span><span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span><span class="token string">&quot;流程处理完成&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><img src="https://workdomain.cloud/picgo/image-20220325124443394.png" alt="image-20220325124443394" style="zoom:50%;"> <h2 id="再次查看用户任务"><a href="#再次查看用户任务" class="header-anchor">#</a> 再次查看用户任务</h2> <img src="https://workdomain.cloud/picgo/image-20220325124520731.png" alt="image-20220325124520731" style="zoom:50%;"></div></section> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最后更新: </span> <span class="time">4/2/2022, 2:56:53 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/notes/笔记前言.html" class="prev">
            笔记前言
          </a></span> <!----></p></div> <div class="comments-wrapper"><!----></div> <ul class="side-bar sub-sidebar-wrapper" style="width:12rem;" data-v-cb1513f6><li class="level-2" data-v-cb1513f6><a href="/notes/flowable%E7%AC%94%E8%AE%B0.html#bpmn2-0结构" class="sidebar-link reco-side-bpmn2-0结构" data-v-cb1513f6>Bpmn2.0结构</a></li><li class="level-2" data-v-cb1513f6><a href="/notes/flowable%E7%AC%94%E8%AE%B0.html#导入依赖" class="sidebar-link reco-side-导入依赖" data-v-cb1513f6>导入依赖</a></li><li class="level-2" data-v-cb1513f6><a href="/notes/flowable%E7%AC%94%E8%AE%B0.html#创建流程引擎" class="sidebar-link reco-side-创建流程引擎" data-v-cb1513f6>创建流程引擎</a></li><li class="level-2" data-v-cb1513f6><a href="/notes/flowable%E7%AC%94%E8%AE%B0.html#数据库的创建" class="sidebar-link reco-side-数据库的创建" data-v-cb1513f6>数据库的创建</a></li><li class="level-2" data-v-cb1513f6><a href="/notes/flowable%E7%AC%94%E8%AE%B0.html#流程定义" class="sidebar-link reco-side-流程定义" data-v-cb1513f6>流程定义</a></li><li class="level-2" data-v-cb1513f6><a href="/notes/flowable%E7%AC%94%E8%AE%B0.html#流程部署" class="sidebar-link reco-side-流程部署" data-v-cb1513f6>流程部署</a></li><li class="level-2" data-v-cb1513f6><a href="/notes/flowable%E7%AC%94%E8%AE%B0.html#启动流程实例" class="sidebar-link reco-side-启动流程实例" data-v-cb1513f6>启动流程实例</a></li><li class="level-2" data-v-cb1513f6><a href="/notes/flowable%E7%AC%94%E8%AE%B0.html#查看用户任务" class="sidebar-link reco-side-查看用户任务" data-v-cb1513f6>查看用户任务</a></li><li class="level-2" data-v-cb1513f6><a href="/notes/flowable%E7%AC%94%E8%AE%B0.html#审核任务" class="sidebar-link reco-side-审核任务" data-v-cb1513f6>审核任务</a></li><li class="level-2" data-v-cb1513f6><a href="/notes/flowable%E7%AC%94%E8%AE%B0.html#再次查看用户任务" class="sidebar-link reco-side-再次查看用户任务" data-v-cb1513f6>再次查看用户任务</a></li></ul></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div><div></div></div></div>
    <script src="/assets/js/app.3d5eaae9.js" defer></script><script src="/assets/js/3.72222d6a.js" defer></script><script src="/assets/js/1.66c47487.js" defer></script><script src="/assets/js/57.717b8805.js" defer></script>
  </body>
</html>
